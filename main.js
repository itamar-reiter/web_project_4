(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var n=function(){function n(e,r,o,i){var u=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t(this,"_removeCard",(function(){u._card.remove(),u._card=null})),t(this,"_toggleCardLikeButton",(function(){u._likeButton.classList.toggle("element__like-button_active")})),this._image=e,this._name=r,this._elementSelector=o,this._handleCardClick=function(){i(u._name,u._image)}}var r,o;return r=n,(o=[{key:"_getTemplate",value:function(){this._card=document.querySelector(this._elementSelector).content.querySelector(".element").cloneNode(!0)}},{key:"_defineCardVariables",value:function(){this._garbageButton=this._card.querySelector(".element__garbage-button"),this._imageContainer=this._card.querySelector(".element__image"),this._nameContainer=this._card.querySelector(".element__name"),this._likeButton=this._card.querySelector(".element__like-button")}},{key:"_addDataToCard",value:function(){this._nameContainer.textContent=this._name,this._imageContainer.alt=this._name,this._imageContainer.src=this._image}},{key:"_setEventListeners",value:function(){this._garbageButton.addEventListener("click",this._removeCard),this._likeButton.addEventListener("click",this._toggleCardLikeButton),this._imageContainer.addEventListener("click",this._handleCardClick)}},{key:"generateCard",value:function(){return this._getTemplate(),this._defineCardVariables(),this._addDataToCard(),this._setEventListeners(),this._card}}])&&e(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),n}();function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"_removeErrorNotes",(function(e){r._errorElement=r._formElement.querySelector(".popup__error-message_type_".concat(e.id)),e.classList.remove(r._inputErrorClass),r._errorElement.textContent="",r._errorElement.classList.remove(r._errorClass)})),o(this,"_inactivateButtonClass",(function(){r._submitButton.classList.add(r._inactiveButtonClass),r._submitButton.disabled=!0})),o(this,"_activateButtonClass",(function(){r._submitButton.classList.remove(r._inactiveButtonClass),r._submitButton.disabled=!1})),this._formSelector=t.formSelector,this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._formElement=n}var t,n;return t=e,(n=[{key:"_apllyErrorNotes",value:function(e,t){this._errorElement=this._formElement.querySelector(".popup__error-message_type_".concat(e.id)),e.classList.add(this._inputErrorClass),this._errorElement.classList.add(this._errorClass),this._errorElement.textContent=t}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._removeErrorNotes(e):this._apllyErrorNotes(e,e.validationMessage)}},{key:"_hasInvalidInput",value:function(){return this._formInputs.some((function(e){return!e.validity.valid}))}},{key:"_toggleSubmitButton",value:function(){this._hasInvalidInput()?this._inactivateButtonClass():this._activateButtonClass()}},{key:"_adjustEventListeners",value:function(){var e=this;this._formInputs=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._submitButton=this._formElement.querySelector(this._submitButtonSelector),this._toggleSubmitButton(),this._formInputs.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleSubmitButton()}))}))}},{key:"enableValidation",value:function(){this._adjustEventListeners(),this._formElement.addEventListener("reset",this._inactivateButtonClass)}}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),u=document.querySelector(".profile"),a=(u.querySelector(".profile__name"),u.querySelector(".profile__about-me"),u.querySelector("#editButton")),c=u.querySelector("#addButton"),l=(document.querySelector(".grid-elements"),Array.from(document.querySelectorAll(".popup")),document.querySelector(".popup_type_edit-profile").querySelector(".popup__close-icon_type_form"),document.querySelector(".popup__form_type_edit-profile")),s=(document.querySelector(".popup__input_type_name"),document.querySelector(".popup__input_type_about-me"),l.querySelector(".popup__submit-button"),document.querySelector(".popup_type_add-photo").querySelector(".popup__close-icon_type_form"),document.querySelector(".popup__form_type_add-photo")),p=(document.querySelector(".popup__input_type_title"),document.querySelector(".popup__input_type_image-link"),s.querySelector(".popup__submit-button"),document.querySelector(".popup_type_image")),f=(document.querySelector(".popup__close-icon_type_image"),p.querySelector(".popup__background"),p.querySelector(".popup__place-name"),{formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__submit-button",inactiveButtonClass:"popup__submit-button_inactive",inputErrorClass:"popup__input_type_error",errorClass:"popup__error-message_active"});function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),y(this,"_removeEventListeners",(function(){document.removeEventListener("keydown",n._handleEscClose),n.popup.removeEventListener("mousedown",n._closeOverlay)})),y(this,"_closeOverlay",(function(e){e.target===e.currentTarget&&n.close()})),y(this,"_handleEscClose",(function(e){"Escape"===e.key&&n.close()})),this.popup=document.querySelector(t),this._closeIcon=this.popup.querySelector(".popup__close-icon")}var t,n;return t=e,(n=[{key:"open",value:function(){this.popup.classList.add("popup_active"),document.addEventListener("keydown",this._handleEscClose),this.popup.addEventListener("mousedown",this._closeOverlay)}},{key:"close",value:function(){this._removeEventListeners(),this.popup.classList.remove("popup_active")}},{key:"setEventListeners",value:function(){var e=this;this._closeIcon.addEventListener("click",(function(){e.close()}))}}])&&_(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(){return b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=v(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},b.apply(this,arguments)}function v(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function S(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=w(r);if(o){var n=w(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return S(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._placeNameContainer=t.popup.querySelector(".popup__place-name"),t._backgroundContainer=t.popup.querySelector(".popup__background"),t}return t=u,(n=[{key:"open",value:function(e,t){b(w(u.prototype),"open",this).call(this),this._placeNameContainer.textContent=e,this._backgroundContainer.style.backgroundImage="\n    url("+t+")"}}])&&h(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(d);function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(){return O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=j(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},O.apply(this,arguments)}function j(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=P(e)););return e}function q(e,t){return q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},q(e,t)}function L(e,t){if(t&&("object"===C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return B(e)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=P(r);if(o){var n=P(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return L(this,e)});function u(e,t){var n,r,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),a=function(e){e.preventDefault(),n._executeSubmitEvent(n._getInputValues())},(o="_handleSubmit")in(r=B(n=i.call(this,e)))?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a,n._executeSubmitEvent=t,n.formInputs=Array.from(n.popup.querySelectorAll(".popup__input")),n._form=n.popup.querySelector(".popup__form"),n}return t=u,(n=[{key:"_getInputValues",value:function(){var e={};return this.formInputs.forEach((function(t){e[t.id]=t.value})),e}},{key:"setInputValues",value:function(e){this.formInputs.forEach((function(t){t.value=e[t.name]}))}},{key:"setEventListeners",value:function(){O(P(u.prototype),"setEventListeners",this).call(this),this.popup.addEventListener("submit",this._handleSubmit)}},{key:"close",value:function(){O(P(u.prototype),"close",this).call(this),this._form.reset()}}])&&k(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(d);function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var R=function(){function e(t,n){var r,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=function(){return{name:i._nameContainer.textContent,job:i._jobContainer.textContent}},(r="getUserInfo")in this?Object.defineProperty(this,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[r]=o,this._nameContainer=document.querySelector(t),this._jobContainer=document.querySelector(n)}var t,n;return t=e,(n=[{key:"setUserInfo",value:function(e,t){this._nameContainer.textContent=e,this._jobContainer.textContent=t}}])&&x(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var V=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=t,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){t._renderer(e)}))}},{key:"setItem",value:function(e){this._container.prepend(e)}}])&&T(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),N=new I(".popup_type_edit-profile",(function(e){M.setUserInfo(e.name,e.aboutMe),N.close()}));N.setEventListeners();var D=new I(".popup_type_add-photo",(function(e){U.renderItems([e]),D.close()}));D.setEventListeners();var A=new E(".popup_type_image"),U=new V((function(e){var t=new n(e.link,e.title,"#cardTemplate",Y);U.setItem(t.generateCard())}),".grid-elements"),M=new R(".profile__name",".profile__about-me");function Y(e,t){A.open(e,t),A.setEventListeners()}function z(e){new i(f,e).enableValidation()}U.renderItems([{title:"Yosemite Valley",link:"https://code.s3.yandex.net/web-code/yosemite.jpg"},{title:"Lake Louise",link:"https://code.s3.yandex.net/web-code/lake-louise.jpg"},{title:"Bald Mountains",link:"https://code.s3.yandex.net/web-code/bald-mountains.jpg"},{title:"Latemar",link:"https://code.s3.yandex.net/web-code/latemar.jpg"},{title:"Vanoise National Park",link:"https://code.s3.yandex.net/web-code/vanoise.jpg"},{title:"Lago di Braies",link:"https://code.s3.yandex.net/web-code/lago.jpg"}]),a.addEventListener("click",(function(){var e;e=M.getUserInfo(),N.setInputValues(e),N.open()})),c.addEventListener("click",(function(){D.open()})),z(N.popup),z(D.popup)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFTZ0IsY0FFMUJsQixFQUFpQm1CLGVBQWVGLEdBd0I5QmpCLEVBQWlCYSxVQUluQkUsRUFBQUEsaUJBQXFDLFNBQVMsV0FDNUNULEVBQWNPLFVBT2xCQyxFQUFtQmQsRUFBaUJ6QyxPQUNwQ3VELEVBQW1CUixFQUFjL0MsUSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYl9wcm9qZWN0XzQtbWFpbi8uL3NyYy9jbGFzc2Vzcy9DYXJkLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQtbWFpbi8uL3NyYy9jbGFzc2Vzcy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQtbWFpbi8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC1tYWluLy4vc3JjL2NsYXNzZXNzL1BvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQtbWFpbi8uL3NyYy9jbGFzc2Vzcy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80LW1haW4vLi9zcmMvY2xhc3Nlc3MvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80LW1haW4vLi9zcmMvY2xhc3Nlc3MvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC1tYWluLy4vc3JjL2NsYXNzZXNzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC1tYWluLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQtbWFpbi8uL3NyYy91dGlscy9jYXJkcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvL2NyZWF0ZUNhcmQgdGVtcGxhdGUgLT4gYWRkIGNvbnRlbnQgdG8gaXQgLT4gYWRkIGV2ZW50IGxpc3RlbmVycyAtPiBkaXNwbGF5IGl0IG9uIHRoZSBzY3JlZW4gLT5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoaW1hZ2UsIG5hbWUsIGVsZW1lbnRTZWxlY3RvciwgaGFuZGxlQ2FyZENsaWNrKSB7XHJcbiAgICB0aGlzLl9pbWFnZSA9IGltYWdlO1xyXG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XHJcbiAgICB0aGlzLl9lbGVtZW50U2VsZWN0b3IgPSBlbGVtZW50U2VsZWN0b3I7XHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgIGhhbmRsZUNhcmRDbGljayh0aGlzLl9uYW1lLCB0aGlzLl9pbWFnZSk7XHJcbiAgICB9O1xyXG4gIH1cclxuICBcclxuICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICB0aGlzLl9jYXJkID0gZG9jdW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fZWxlbWVudFNlbGVjdG9yKVxyXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRcIilcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuICB9XHJcblxyXG4gIF9kZWZpbmVDYXJkVmFyaWFibGVzKCkge1xyXG4gICAgdGhpcy5fZ2FyYmFnZUJ1dHRvbiA9IHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19nYXJiYWdlLWJ1dHRvblwiKTtcclxuICAgIHRoaXMuX2ltYWdlQ29udGFpbmVyID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2ltYWdlXCIpO1xyXG4gICAgdGhpcy5fbmFtZUNvbnRhaW5lciA9IHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19uYW1lXCIpO1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19saWtlLWJ1dHRvblwiKTtcclxuICB9XHJcblxyXG4gIF9hZGREYXRhVG9DYXJkKCkge1xyXG4gICAgdGhpcy5fbmFtZUNvbnRhaW5lci50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9pbWFnZUNvbnRhaW5lci5hbHQgPSB0aGlzLl9uYW1lO1xyXG4gICAgdGhpcy5faW1hZ2VDb250YWluZXIuc3JjID0gdGhpcy5faW1hZ2U7XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9nYXJiYWdlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9yZW1vdmVDYXJkKTtcclxuXHJcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl90b2dnbGVDYXJkTGlrZUJ1dHRvbik7XHJcblxyXG4gICAgdGhpcy5faW1hZ2VDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZUNhcmRDbGljayk7XHJcbiAgfVxyXG5cclxuICBfcmVtb3ZlQ2FyZCA9ICgpID0+IHtcclxuICAgIHRoaXMuX2NhcmQucmVtb3ZlKCk7XHJcbiAgICB0aGlzLl9jYXJkID0gbnVsbDtcclxuICB9O1xyXG5cclxuICBfdG9nZ2xlQ2FyZExpa2VCdXR0b24gPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoXCJlbGVtZW50X19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XHJcbiAgfTtcclxuXHJcbiAgZ2VuZXJhdGVDYXJkKCkge1xyXG4gICAgdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgIHRoaXMuX2RlZmluZUNhcmRWYXJpYWJsZXMoKTtcclxuICAgIHRoaXMuX2FkZERhdGFUb0NhcmQoKTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2NhcmQ7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKGRhdGEsIGZvcm1FbGVtZW50KSB7XHJcbiAgICB0aGlzLl9mb3JtU2VsZWN0b3IgPSBkYXRhLmZvcm1TZWxlY3RvcjtcclxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBkYXRhLmlucHV0U2VsZWN0b3I7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IGRhdGEuc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gZGF0YS5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gZGF0YS5pbnB1dEVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gZGF0YS5lcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuICB9XHJcblxyXG4gIC8qIHJlbW92aW5nIGVycm9yIG1lc3NhZ2UgYW5kIGlucHV0IGVycm9yQWxlcnQgKi9cclxuICBfcmVtb3ZlRXJyb3JOb3RlcyA9IChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgIHRoaXMuX2Vycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAucG9wdXBfX2Vycm9yLW1lc3NhZ2VfdHlwZV8ke2lucHV0RWxlbWVudC5pZH1gXHJcbiAgICApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIHRoaXMuX2Vycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcclxuICB9O1xyXG5cclxuICBfYXBsbHlFcnJvck5vdGVzKGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSB7XHJcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgLnBvcHVwX19lcnJvci1tZXNzYWdlX3R5cGVfJHtpbnB1dEVsZW1lbnQuaWR9YFxyXG4gICAgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcclxuICAgIHRoaXMuX2Vycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcclxuICB9XHJcblxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9hcGxseUVycm9yTm90ZXMoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fcmVtb3ZlRXJyb3JOb3RlcyhpbnB1dEVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyogY2hlY2sgaWYgdGhlcmUgaW52YWxpZCBpbnB1dCBpbiBjaG9zZW4gZm9ybSAqL1xyXG4gIC8qIHRydWUgaWYgdGhlcmUgaXMgaW52YWxpZCBpbnB1dCAqL1xyXG5cclxuICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2Zvcm1JbnB1dHMuc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfaW5hY3RpdmF0ZUJ1dHRvbkNsYXNzID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gIH07XHJcblxyXG4gIF9hY3RpdmF0ZUJ1dHRvbkNsYXNzID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcclxuICB9O1xyXG5cclxuICBfdG9nZ2xlU3VibWl0QnV0dG9uKCkge1xyXG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XHJcbiAgICAgIHRoaXMuX2luYWN0aXZhdGVCdXR0b25DbGFzcygpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fYWN0aXZhdGVCdXR0b25DbGFzcygpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2FkanVzdEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fZm9ybUlucHV0cyA9IEFycmF5LmZyb20oXHJcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcilcclxuICAgICk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvclxyXG4gICAgKTtcclxuICAgIHRoaXMuX3RvZ2dsZVN1Ym1pdEJ1dHRvbigpO1xyXG4gICAgdGhpcy5fZm9ybUlucHV0cy5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlU3VibWl0QnV0dG9uKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fYWRqdXN0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNldFwiLCB0aGlzLl9pbmFjdGl2YXRlQnV0dG9uQ2xhc3MpO1xyXG4gIH1cclxufVxyXG4iLCIvL3ZhcmlhYmxlcyBmb3IgZGVmYXVsdCBkaXNwbGF5ZWQgY29udGVudFxyXG5leHBvcnQgY29uc3QgcHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZVwiKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVOYW1lID0gcHJvZmlsZS5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25hbWVcIik7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlQWJvdXRNZSA9IHByb2ZpbGUucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hYm91dC1tZVwiKTtcclxuZXhwb3J0IGNvbnN0IGVkaXRCdXR0b24gPSBwcm9maWxlLnF1ZXJ5U2VsZWN0b3IoXCIjZWRpdEJ1dHRvblwiKTtcclxuZXhwb3J0IGNvbnN0IGFkZEJ1dHRvbiA9IHByb2ZpbGUucXVlcnlTZWxlY3RvcihcIiNhZGRCdXR0b25cIik7XHJcbmV4cG9ydCBjb25zdCBwbGFjZXNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmdyaWQtZWxlbWVudHNcIik7XHJcbmV4cG9ydCBjb25zdCBvdmVybGF5TGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cFwiKSk7XHJcblxyXG4vL3ZhcmlhYmxlcyBmb3IgcG9wdXAncyBjb250ZW50XHJcbmV4cG9ydCBjb25zdCBwb3B1cEVkaXRQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIi5wb3B1cF90eXBlX2VkaXQtcHJvZmlsZVwiXHJcbik7XHJcbmV4cG9ydCBjb25zdCBwb3B1cEVkaXRQcm9maWxlQ2xvc2VCdXR0b24gPSBwb3B1cEVkaXRQcm9maWxlLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIucG9wdXBfX2Nsb3NlLWljb25fdHlwZV9mb3JtXCJcclxuKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwRm9ybUVkaXRQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIi5wb3B1cF9fZm9ybV90eXBlX2VkaXQtcHJvZmlsZVwiXHJcbik7XHJcbmV4cG9ydCBjb25zdCBuYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbnB1dF90eXBlX25hbWVcIik7XHJcbmV4cG9ydCBjb25zdCBhYm91dE1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiLnBvcHVwX19pbnB1dF90eXBlX2Fib3V0LW1lXCJcclxuKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwRWRpdFByb2ZpbGVTdWJtaXRCdXR0b24gPSBwb3B1cEZvcm1FZGl0UHJvZmlsZS5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiLnBvcHVwX19zdWJtaXQtYnV0dG9uXCJcclxuKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwQWRkUGhvdG8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3R5cGVfYWRkLXBob3RvXCIpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBBZGRQaG90b0Nsb3NlQnV0dG9uID0gcG9wdXBBZGRQaG90by5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiLnBvcHVwX19jbG9zZS1pY29uX3R5cGVfZm9ybVwiXHJcbik7XHJcbmV4cG9ydCBjb25zdCBwb3B1cEZvcm1BZGRQaG90byA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIucG9wdXBfX2Zvcm1fdHlwZV9hZGQtcGhvdG9cIlxyXG4pO1xyXG5leHBvcnQgY29uc3QgdGl0bGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2lucHV0X3R5cGVfdGl0bGVcIik7XHJcbmV4cG9ydCBjb25zdCBpbWFnZUxpbmtJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIucG9wdXBfX2lucHV0X3R5cGVfaW1hZ2UtbGlua1wiXHJcbik7XHJcbmV4cG9ydCBjb25zdCBwb3B1cEFkZFBob3RvU3VibWl0QnV0dG9uID0gcG9wdXBGb3JtQWRkUGhvdG8ucXVlcnlTZWxlY3RvcihcclxuICBcIi5wb3B1cF9fc3VibWl0LWJ1dHRvblwiXHJcbik7XHJcbmV4cG9ydCBjb25zdCBwb3B1cEltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX2ltYWdlXCIpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBJbWFnZUNsb3NlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIi5wb3B1cF9fY2xvc2UtaWNvbl90eXBlX2ltYWdlXCJcclxuKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwQmFja2dyb3VuZCA9IHBvcHVwSW1hZ2UucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYmFja2dyb3VuZFwiKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwUGxhY2VOYW1lID0gcG9wdXBJbWFnZS5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19wbGFjZS1uYW1lXCIpO1xyXG5leHBvcnQgY29uc3QgZm9ybVZhbGlkYXRvckRhdGEgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fc3VibWl0LWJ1dHRvblwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwicG9wdXBfX3N1Ym1pdC1idXR0b25faW5hY3RpdmVcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICBlcnJvckNsYXNzOiBcInBvcHVwX19lcnJvci1tZXNzYWdlX2FjdGl2ZVwiLFxyXG59O1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9jbG9zZUljb24gPSB0aGlzLnBvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Nsb3NlLWljb25cIik7XHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5wb3B1cC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfYWN0aXZlXCIpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgdGhpcy5wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuX2Nsb3NlT3ZlcmxheSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX3JlbW92ZUV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLnBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9hY3RpdmVcIik7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2Nsb3NlSWNvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9yZW1vdmVFdmVudExpc3RlbmVycyA9ICgpID0+IHtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgIHRoaXMucG9wdXAucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLl9jbG9zZU92ZXJsYXkpO1xyXG4gIH07XHJcblxyXG4gIF9jbG9zZU92ZXJsYXkgPSAoZXZ0KSA9PiB7XHJcbiAgICBpZiAoZXZ0LnRhcmdldCA9PT0gZXZ0LmN1cnJlbnRUYXJnZXQpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIF9oYW5kbGVFc2NDbG9zZSA9IChldnQpID0+IHtcclxuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9O1xyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9wbGFjZU5hbWVDb250YWluZXIgPSB0aGlzLnBvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3BsYWNlLW5hbWVcIik7XHJcbiAgICB0aGlzLl9iYWNrZ3JvdW5kQ29udGFpbmVyID0gdGhpcy5wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19iYWNrZ3JvdW5kXCIpO1xyXG4gIH1cclxuICBvcGVuKHRpdGxlLCBsaW5rKSB7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgICB0aGlzLl9wbGFjZU5hbWVDb250YWluZXIudGV4dENvbnRlbnQgPSB0aXRsZTtcclxuICAgIHRoaXMuX2JhY2tncm91bmRDb250YWluZXIuc3R5bGUuYmFja2dyb3VuZEltYWdlID1cclxuICAgICAgYFxyXG4gICAgdXJsKGAgK1xyXG4gICAgICBsaW5rICtcclxuICAgICAgYClgO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgZXhlY3V0ZVN1Ym1pdEV2ZW50KSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2V4ZWN1dGVTdWJtaXRFdmVudCA9IGV4ZWN1dGVTdWJtaXRFdmVudDtcclxuICAgIHRoaXMuZm9ybUlucHV0cyA9IEFycmF5LmZyb20odGhpcy5wb3B1cC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19pbnB1dFwiKSk7XHJcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xyXG4gIH1cclxuICBcclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICBjb25zdCBpbnB1dERhdGEgPSB7fTtcclxuICAgIHRoaXMuZm9ybUlucHV0cy5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgaW5wdXREYXRhW2lucHV0RWxlbWVudC5pZF0gPSBpbnB1dEVsZW1lbnQudmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBpbnB1dERhdGE7XHJcbiAgfVxyXG5cclxuICBzZXRJbnB1dFZhbHVlcyhpbnB1dERhdGEpIHtcclxuICAgIHRoaXMuZm9ybUlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dC52YWx1ZSA9IGlucHV0RGF0YVtpbnB1dC5uYW1lXTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuX2hhbmRsZVN1Ym1pdCk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlU3VibWl0ID0gKGV2dCkgPT4ge1xyXG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB0aGlzLl9leGVjdXRlU3VibWl0RXZlbnQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgfTtcclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IobmFtZUNvbnRhaW5lclNlbGVjdG9yLCBqb2JDb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fbmFtZUNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZUNvbnRhaW5lclNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2pvYkNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioam9iQ29udGFpbmVyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8gPSAoKSA9PiB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBuYW1lOiB0aGlzLl9uYW1lQ29udGFpbmVyLnRleHRDb250ZW50LFxyXG4gICAgICBqb2I6IHRoaXMuX2pvYkNvbnRhaW5lci50ZXh0Q29udGVudCxcclxuICAgIH07XHJcbiAgfTtcclxuXHJcbiAgc2V0VXNlckluZm8obmFtZSwgam9iKSB7XHJcbiAgICB0aGlzLl9uYW1lQ29udGFpbmVyLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIHRoaXMuX2pvYkNvbnRhaW5lci50ZXh0Q29udGVudCA9IGpvYjtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IocmVuZGVyZXIsIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICAvL3JlbmRlciBmdW5jdGlvbiAtIHRha2UgdGhlIGl0ZW1zIGFuZCByZW5kZXIgdGhlbSBvbiB0byB0aGUgcGFnZVxyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIC8vdGhlIGNvbnRhaW5lciBvZiB0aGUgcmVuZGVyZWQgaXRlbXMgb24gdGhlIHBhZ2VcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVySXRlbXMoaXRlbXMpIHtcclxuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHNldEl0ZW0oaXRlbSkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoaXRlbSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBcIi4vaW5kZXguY3NzXCI7XHJcbmltcG9ydCBjYXJkcyBmcm9tIFwiLi4vdXRpbHMvY2FyZHMuanNcIjtcclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NsYXNzZXNzL0NhcmQuanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NsYXNzZXNzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0ICogYXMgY29uc3RhbnRzIGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jbGFzc2Vzcy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY2xhc3Nlc3MvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NsYXNzZXNzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jbGFzc2Vzcy9TZWN0aW9uLmpzXCI7XHJcblxyXG4vL2luc3RhbmNlIGZvciBwcm9maWxlRm9ybVxyXG5jb25zdCBwb3B1cFByb2ZpbGVGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgXCIucG9wdXBfdHlwZV9lZGl0LXByb2ZpbGVcIixcclxuICAoaW5wdXRWYWx1ZSkgPT4ge1xyXG4gICAgdXNlckluZm8uc2V0VXNlckluZm8oaW5wdXRWYWx1ZS5uYW1lLCBpbnB1dFZhbHVlLmFib3V0TWUpO1xyXG4gICAgcG9wdXBQcm9maWxlRm9ybS5jbG9zZSgpO1xyXG4gIH1cclxuKTtcclxucG9wdXBQcm9maWxlRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy9pbnN0YW5jZSBmb3IgY2FyZEZvcm1cclxuY29uc3QgcG9wdXBDYXJkRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gIFwiLnBvcHVwX3R5cGVfYWRkLXBob3RvXCIsXHJcbiAgKGlucHV0VmFsdWUpID0+IHtcclxuICAgIGNhcmRTZWN0aW9uLnJlbmRlckl0ZW1zKFtpbnB1dFZhbHVlXSk7XHJcbiAgICBwb3B1cENhcmRGb3JtLmNsb3NlKCk7XHJcbiAgfVxyXG4pO1xyXG5wb3B1cENhcmRGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vL2luc3RhbmNlIGZvciBwb3B1cEltYWdlXHJcbmNvbnN0IHBvcHVwSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIucG9wdXBfdHlwZV9pbWFnZVwiKTtcclxuXHJcbi8vaW5zdGFuY2UgZm9yIFNlY3Rpb25cclxuY29uc3QgY2FyZFNlY3Rpb24gPSBuZXcgU2VjdGlvbigoaXRlbSkgPT4ge1xyXG4gIGNvbnN0IHJlbmRlcmVkQ2FyZCA9IG5ldyBDYXJkKFxyXG4gICAgaXRlbS5saW5rLFxyXG4gICAgaXRlbS50aXRsZSxcclxuICAgIFwiI2NhcmRUZW1wbGF0ZVwiLFxyXG4gICAgY3JlYXRlUG9wdXBJbWFnZVxyXG4gICk7XHJcbiAgY2FyZFNlY3Rpb24uc2V0SXRlbShyZW5kZXJlZENhcmQuZ2VuZXJhdGVDYXJkKCkpO1xyXG59LCBcIi5ncmlkLWVsZW1lbnRzXCIpO1xyXG5cclxuLy9pbnN0YW5jZSBmb3IgZ2V0VXNlckluZm8gZGxpdmVyZWQgdG8gcHJvZmlsZUZvcm0gaW5wdXRzXHJcbmZ1bmN0aW9uIGFkZFVzZXJJbmZvKCkge1xyXG4gIGNvbnN0IHVzZXJEYXRhID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcclxuICAvL2NvbnNvbGUubG9nKHVzZXJEYXRhKTtcclxuICBwb3B1cFByb2ZpbGVGb3JtLnNldElucHV0VmFsdWVzKHVzZXJEYXRhKTtcclxufVxyXG5cclxuLy9pbnN0YW5jZSBmb3IgdXNlckluZm9cclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oXCIucHJvZmlsZV9fbmFtZVwiLCBcIi5wcm9maWxlX19hYm91dC1tZVwiKTtcclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVBvcHVwSW1hZ2UodGl0bGUsIGxpbmspIHtcclxuICBwb3B1cEltYWdlLm9wZW4odGl0bGUsIGxpbmspO1xyXG4gIHBvcHVwSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxufVxyXG5cclxuLy9pbnN0YW5jZSBmb3IgaW5pdGlhbGl6ZSBmb3JtIHZhbGlkYXRpbmdcclxuZnVuY3Rpb24gaW5pdEZvcm1WYWxpZGF0aW5nKGZvcm1FbGVtZW50KSB7XHJcbiAgbmV3IEZvcm1WYWxpZGF0b3IoXHJcbiAgICBjb25zdGFudHMuZm9ybVZhbGlkYXRvckRhdGEsXHJcbiAgICBmb3JtRWxlbWVudFxyXG4gICkuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG59XHJcblxyXG4vL3NldHRpbmcgZXZlbnRMaXN0ZW5lcnMgZm9yIGJ1dHRvbnMgb24gdGhlIHBhZ2VcclxuZnVuY3Rpb24gc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgLy9lZGl0IGJ1dHRvbiBldmVudCBsaXN0ZW5lcnNcclxuICBjb25zdGFudHMuZWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgYWRkVXNlckluZm8oKTtcclxuICAgIHBvcHVwUHJvZmlsZUZvcm0ub3BlbigpO1xyXG4gIH0pO1xyXG5cclxuICAvL2FkZCBidXR0b24gZXZlbnQgbGlzdGVuZXJzXHJcbiAgY29uc3RhbnRzLmFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgcG9wdXBDYXJkRm9ybS5vcGVuKCk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8vc2V0IGluaXRpYWxDYXJkc1xyXG5jYXJkU2VjdGlvbi5yZW5kZXJJdGVtcyhjYXJkcyk7XHJcbnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbmluaXRGb3JtVmFsaWRhdGluZyhwb3B1cFByb2ZpbGVGb3JtLnBvcHVwKTtcclxuaW5pdEZvcm1WYWxpZGF0aW5nKHBvcHVwQ2FyZEZvcm0ucG9wdXApO1xyXG4iLCJjb25zdCBpbml0aWFsQ2FyZHMgPSBbXHJcbiAge1xyXG4gICAgdGl0bGU6IFwiWW9zZW1pdGUgVmFsbGV5XCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL3lvc2VtaXRlLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgdGl0bGU6IFwiTGFrZSBMb3Vpc2VcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvbGFrZS1sb3Vpc2UuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICB0aXRsZTogXCJCYWxkIE1vdW50YWluc1wiLFxyXG4gICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS9iYWxkLW1vdW50YWlucy5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIHRpdGxlOiBcIkxhdGVtYXJcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvbGF0ZW1hci5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIHRpdGxlOiBcIlZhbm9pc2UgTmF0aW9uYWwgUGFya1wiLFxyXG4gICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS92YW5vaXNlLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgdGl0bGU6IFwiTGFnbyBkaSBCcmFpZXNcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvbGFnby5qcGdcIixcclxuICB9LFxyXG5dO1xyXG5leHBvcnQgZGVmYXVsdCBpbml0aWFsQ2FyZHM7XHJcbiJdLCJuYW1lcyI6WyJDYXJkIiwiaW1hZ2UiLCJuYW1lIiwiZWxlbWVudFNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwiX2NhcmQiLCJyZW1vdmUiLCJfbGlrZUJ1dHRvbiIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInRoaXMiLCJfaW1hZ2UiLCJfbmFtZSIsIl9lbGVtZW50U2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9nYXJiYWdlQnV0dG9uIiwiX2ltYWdlQ29udGFpbmVyIiwiX25hbWVDb250YWluZXIiLCJ0ZXh0Q29udGVudCIsImFsdCIsInNyYyIsImFkZEV2ZW50TGlzdGVuZXIiLCJfcmVtb3ZlQ2FyZCIsIl90b2dnbGVDYXJkTGlrZUJ1dHRvbiIsIl9nZXRUZW1wbGF0ZSIsIl9kZWZpbmVDYXJkVmFyaWFibGVzIiwiX2FkZERhdGFUb0NhcmQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJGb3JtVmFsaWRhdG9yIiwiZGF0YSIsImZvcm1FbGVtZW50IiwiaW5wdXRFbGVtZW50IiwiX2Vycm9yRWxlbWVudCIsIl9mb3JtRWxlbWVudCIsImlkIiwiX2lucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiX3N1Ym1pdEJ1dHRvbiIsImFkZCIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiZGlzYWJsZWQiLCJfZm9ybVNlbGVjdG9yIiwiZm9ybVNlbGVjdG9yIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsImVycm9yTWVzc2FnZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfcmVtb3ZlRXJyb3JOb3RlcyIsIl9hcGxseUVycm9yTm90ZXMiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9mb3JtSW5wdXRzIiwic29tZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfaW5hY3RpdmF0ZUJ1dHRvbkNsYXNzIiwiX2FjdGl2YXRlQnV0dG9uQ2xhc3MiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiX3RvZ2dsZVN1Ym1pdEJ1dHRvbiIsImZvckVhY2giLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiX2FkanVzdEV2ZW50TGlzdGVuZXJzIiwicHJvZmlsZSIsImVkaXRCdXR0b24iLCJhZGRCdXR0b24iLCJwb3B1cEZvcm1FZGl0UHJvZmlsZSIsInBvcHVwRm9ybUFkZFBob3RvIiwicG9wdXBJbWFnZSIsImZvcm1WYWxpZGF0b3JEYXRhIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl9oYW5kbGVFc2NDbG9zZSIsInBvcHVwIiwiX2Nsb3NlT3ZlcmxheSIsImV2dCIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJjbG9zZSIsImtleSIsIl9jbG9zZUljb24iLCJfcmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJQb3B1cFdpdGhJbWFnZSIsIl9wbGFjZU5hbWVDb250YWluZXIiLCJfYmFja2dyb3VuZENvbnRhaW5lciIsInRpdGxlIiwibGluayIsInN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwiUG9wdXBXaXRoRm9ybSIsImV4ZWN1dGVTdWJtaXRFdmVudCIsInByZXZlbnREZWZhdWx0IiwiX2V4ZWN1dGVTdWJtaXRFdmVudCIsIl9nZXRJbnB1dFZhbHVlcyIsImZvcm1JbnB1dHMiLCJfZm9ybSIsImlucHV0RGF0YSIsInZhbHVlIiwiaW5wdXQiLCJfaGFuZGxlU3VibWl0IiwicmVzZXQiLCJVc2VySW5mbyIsIm5hbWVDb250YWluZXJTZWxlY3RvciIsImpvYkNvbnRhaW5lclNlbGVjdG9yIiwiam9iIiwiX2pvYkNvbnRhaW5lciIsIlNlY3Rpb24iLCJyZW5kZXJlciIsImNvbnRhaW5lclNlbGVjdG9yIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW1zIiwiaXRlbSIsInByZXBlbmQiLCJwb3B1cFByb2ZpbGVGb3JtIiwiaW5wdXRWYWx1ZSIsInVzZXJJbmZvIiwic2V0VXNlckluZm8iLCJhYm91dE1lIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJwb3B1cENhcmRGb3JtIiwiY2FyZFNlY3Rpb24iLCJyZW5kZXJJdGVtcyIsInJlbmRlcmVkQ2FyZCIsImNyZWF0ZVBvcHVwSW1hZ2UiLCJzZXRJdGVtIiwiZ2VuZXJhdGVDYXJkIiwib3BlbiIsImluaXRGb3JtVmFsaWRhdGluZyIsImNvbnN0YW50cyIsImVuYWJsZVZhbGlkYXRpb24iLCJ1c2VyRGF0YSIsImdldFVzZXJJbmZvIiwic2V0SW5wdXRWYWx1ZXMiXSwic291cmNlUm9vdCI6IiJ9